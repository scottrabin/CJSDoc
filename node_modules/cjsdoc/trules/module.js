/**
 * Examines a leaf to determine if:
 *     it's a SCRIPT node where the first child is a DOC_COMMENT with attribute @module
 * 
 * which becomes
 *     qualified as: Module#[module_name]
 *     a {module} attached to {@root}
 * 
 */

exports.translate = function( leaf ){
    if( (leaf.typeName === 'SCRIPT') &&
	(leaf.children) &&
	(leaf.children[0]) &&
	(leaf.children[0].typeName = "DOC_COMMENT") &&
	(leaf.children[0].attributes.module)
      ) {
	  var mod = {
	      name: leaf.children[0].attributes.module[0],
	      attributes: leaf.children[0].attributes
	  };
	  // doc handled, remove it
	  leaf.children.splice(0,1);
	  return {
	      parent: true,
	      attachTo: "modules",
	      value: mod
	  };
      }

    return false;
};